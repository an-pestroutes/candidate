package automation.PestRoutes.Utilities;

import java.io.File;
import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.io.IOException;
import java.net.URL;
import java.nio.file.Path;
import java.nio.file.Paths;
import java.util.Properties;

public class AppData {
	static Properties properties;

	public static void loadSignInData() {

		try {

			properties = new Properties();
			// InputStream location =
			// getClass().getResourceAsStream("application.properties");
			File location = new File(
					"C:\\Users\\AbdulAarbi\\Desktop\\pestroutesjava\\automation\\src\\test\\java\\automation\\PestRoutes\\Utilities\\Data\\application.properties");
			// FileReader fileData = new FileReader(location);
			FileInputStream fileData = new FileInputStream(location);

			properties.load(fileData);

		} catch (Exception e) {
			System.out.println("Exception is == " + e.getMessage());
		}
	}

	public static void loadQuarterlyData() {
		try {

			properties = new Properties();
			ClassLoader classLoader = new AppData().getClass().getClassLoader();
			 
	        File file = new File(classLoader.getResource("quarterlybyprefferedday.properties").getFile());
			
			File location = new File(
					"../../Data/quarterlybyprefferedday.properties");
			// FileReader fileData = new FileReader(location);
			FileInputStream fileData = new FileInputStream(location);

			properties.load(fileData);

		} catch (Exception e) {
			System.out.println("Exception is == " + e.getMessage());
		}
	}

	public static String getData(String needData) throws IOException {
		loadSignInData();
		String data = properties.getProperty(needData);
		return data;
	}
	
	public static String getQuarterlyData(String needData) throws IOException {
		loadQuarterlyData();
		String data = properties.getProperty(needData);
		return data;
	}

	public static void addData(String needKey, String needValue) throws Exception {
		File file = new File(
				"C:\\Users\\AbdulAarbi\\Desktop\\pestroutesjava\\automation\\src\\test\\java\\automation\\PestRoutes\\Utilities\\Data\\application.properties");
		FileInputStream in = new FileInputStream(file);
		Properties props = new Properties();
		props.load(in);
		in.close();

		FileOutputStream out = new FileOutputStream(file);
		props.setProperty(needKey, needValue);
		props.store(out, null);
		out.close();
	}

}
