package automation.PestRoutes.Controller.Subscriptions;

import automation.PestRoutes.PageObject.Header;
import automation.PestRoutes.PageObject.CustomerOverview.CustomerViewDialog_Header;
import automation.PestRoutes.PageObject.CustomerOverview.CustomerViewDialog_SubscriptionTab;
import automation.PestRoutes.Utilities.BaseClass;
import automation.PestRoutes.Utilities.Reporter;

import static org.testng.Assert.assertTrue;

import org.testng.annotations.Test;
public class AddSubscription extends BaseClass {
	
	CustomerViewDialog_SubscriptionTab subscription = new CustomerViewDialog_SubscriptionTab();
	CustomerViewDialog_Header customerDialogHeader;
	Header header;
	
	private String ticketItem = "bed";
	
	
	@Test
	public void validateSubscription() throws Exception {
		customerDialogHeader = new CustomerViewDialog_Header();
		header = new Header();
		header.Search_A_Customer(getData("userID"));
		customerDialogHeader.NavigateTo(customerDialogHeader.subscriptionTabInDialog);
		subscription.clickNewSubscriptionButton();
		subscription.selectServiceType(getQuarterlyData("quarterly"));
		subscription.setCustomDate(getQuarterlyData("customDate"));
		String[] prefferedDay = {getQuarterlyData("monday"), getQuarterlyData("tuesday"),
				getQuarterlyData("wednesday"), getQuarterlyData("thursday"), getQuarterlyData("friday"),
				getQuarterlyData("saturday"),getQuarterlyData("sunday")};
		

		for(int i = 0; i < prefferedDay.length; i++) {
			System.out.println(i);
			subscription.selectPreferredDayOption(prefferedDay[i]);
			String[] actualUpComingDates = {subscription.getUpcomingAppt(subscription.firstUpcomingAppointment),
					subscription.getUpcomingAppt(subscription.secondUpcomingAppointment),
					subscription.getUpcomingAppt(subscription.thirdUpcomingAppointment),
					subscription.getUpcomingAppt(subscription.fourthUpcomingAppointment),
					subscription.getUpcomingAppt(subscription.fifthUpcomingAppointment),
					subscription.getUpcomingAppt(subscription.sixthUpcomingAppointment),
					subscription.getUpcomingAppt(subscription.seventhUpcomingAppointment)};
			String[] expectedUpComingDates = {getQuarterlyData("customDate"), getQuarterlyData("first"+prefferedDay[i]),
					getQuarterlyData("second"+prefferedDay[i]), getQuarterlyData("third"+prefferedDay[i]),
					getQuarterlyData("fourth"+prefferedDay[i]), getQuarterlyData("fifth"+prefferedDay[i]),
					getQuarterlyData("sixth"+prefferedDay[i])};
			String[] daySlot = {" first slot", " 2nd slot"," 3rd slot"," 4th slot"," 5th slot", "6th slot", " 7th slot"};
			
			for(int j = 0; j <daySlot.length; j++) {
				System.out.println(actualUpComingDates[j]);
				System.out.println(expectedUpComingDates[j]);
				//assertTrue(actualUpComingDates[j].contains(expectedUpComingDates[j]));
				Reporter.status(expectedUpComingDates[j], actualUpComingDates[j], "Validate subscription by " + prefferedDay[i] + daySlot[j]);
			}
		}
		
	}
	
	public void validateInitialInvoice() {
		
	}

}
